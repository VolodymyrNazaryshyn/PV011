<div class="wrapper">
    <h2>–†–æ–±–æ—Ç–∞ —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö</h2>
    <main>
        <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –°–£–ë–î</h3>
        <p>
            –ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –ë–î –æ–±—ã—á–Ω–æ –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ –≤—ã–¥–∞–µ—Ç—Å—è
            –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å –∏ –≥–æ—Ç–æ–≤–∞—è –ë–î. –ü–æ—ç—Ç–æ–º—É, –∏ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö
            —Å–∞–π—Ç–æ–≤ –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ —Å–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            –∏ –æ—Ç–¥–µ–ª—å–Ω—É—é –ë–î –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–∑ —Å–∞–π—Ç–æ–≤.
        </p>
        <p>
            –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ –°–£–ë–î:<br/>
            <b>–∞)</b> —á–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å (—Ç–µ—Ä–º–∏–Ω–∞–ª)<br/>
            <b>–±)</b> phpmyadmin (http://localhost/phpmyadmin)<br/>
            <b>–≤)</b> —Å—Ç–æ—Ä–æ–Ω–Ω–µ–µ –ü–û –¥–ª—è –ë–î: MySQL Workbench, DBeaver, ...<br/>
            <br/>
            (–¥–∞–ª—å—à–µ –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞)
            <br/>
            <pre>
            –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–µ—Ä–º–∏–Ω–∞–ª (–∫–Ω–æ–ø–∫–æ–π Shell –Ω–∞ –ø–∞–Ω–µ–ª–∏ XAMPP / cmd)
            –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –ø–∞–ø–∫—É 
            > cd mysql/bin
            –ó–∞–ø—É—Å–∫–∞–µ–º –∫–æ–Ω—Å–æ–ª—å –ë–î
            > mysql -u root         (–µ—Å–ª–∏ –Ω–µ—Ç –ø–∞—Ä–æ–ª—è - –Ω–æ–≤–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞)
            > mysql -u root -p      (–µ—Å–ª–∏ –ø–∞—Ä–æ–ª—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
            -- –ø–æ–ø–∞–¥–∞–µ–º –≤ –°–£–ë–î-–∫–ª–∏–µ–Ω—Ç (–∫–æ–Ω—Å–æ–ª—å)
            –°–æ–∑–¥–∞–µ–º –ë–î –¥–ª—è —Å–∞–π—Ç–∞ (pv011)
            >> CREATE DATABASE pv011;
            –°–æ–∑–¥–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –¥–∞–µ–º –µ–º—É –¥–æ—Å—Ç—É–ø –∫ –Ω–æ–≤–æ–π –ë–î
            (–ª–æ–≥–∏–Ω - pv011_user, –ø–∞—Ä–æ–ª—å - pv011_pass)
            >> GRANT ALL PRIVILEGES ON pv011.* 
               TO pv011_user@localhost 
               IDENTIFIED BY 'pv011_pass';
            –ü—Ä–æ–≤–µ—Ä—è–µ–º: –≤—ã—Ö–æ–¥–∏–º –∏–∑ –∫–æ–Ω—Å–æ–ª–∏
            >> exit
            –û–ø—è—Ç—å –ó–∞–ø—É—Å–∫–∞–µ–º –∫–æ–Ω—Å–æ–ª—å, —Ç–æ–ª—å–∫–æ –æ—Ç –∏–º–µ–Ω–∏ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            > mysql -u pv011_user -p
            password: (–≤–≤–æ–¥–∏–º) pv011_pass
            –ï—Å–ª–∏ –≤—Ö–æ–¥ —É—Å–ø–µ—à–Ω—ã–π - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–Ω, –ø–∞—Ä–æ–ª—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π
            –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–∏–¥–∏–º–æ—Å—Ç—å –ë–î
            >> SHOW DATABASES;
            +--------------------+
            | Database           |
            +--------------------+
            | information_schema |
            | pv011              | (–ø—Ä–∏–∑–Ω–∞–∫ –≤–∏–¥–∏–º–æ—Å—Ç–∏ –ë–î)
            | test               |
            +--------------------+
            </pre>
        </p>
        <h3>–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î –∏–∑ PHP</h3>
        <p>
            –î–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î –≤ PHP –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤:<br/>
            -- –Ω–∞–±–æ—Ä –∫–æ–º–∞–Ω–¥ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –ë–î (mysql_... ib_...)<br/>
            -- –∏–ª–∏ –±–æ–ª–µ–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç - PDO (–∞–Ω–∞–ª–æ–≥ ADO .NET)<br/>
        </p>
        <p>–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:
        <?php 
        try {
            $connection = new PDO( 
                "mysql:host=localhost;port=3306;dbname=pv011;charset=utf8",
                "pv011_user", "pv011_pass", [
                   PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION,
                   PDO::ATTR_PERSISTENT => true
                ] ) ;
            echo "Connection OK" ;
        } 
        catch( PDOException $ex ) {
           echo $ex->getMessage() ;
        }
        ?>
        </p>
        <p>
            –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤. DDL.
            Data Definition Language - —è–∑—ã–∫ "—Ä–∞–∑–º–µ—Ç–∫–∏" –¥–∞–Ω–Ω—ã—Ö, —Å–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑,
            —Ç–∞–±–ª–∏—Ü –∏ —Ç.–ø.
            <pre>
            <b>–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ MySQL:</b>
             üí† –Ω–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Ç–∏–ø–∞ –¥–ª—è UUID, (–Ω–æ –µ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã)
              –∏—Å–ø–æ–ª—å–∑—É–µ–º CHAR(36)
             üí† –Ω–µ—Ç N-—Ç–∏–ø–æ–≤ (–Æ–Ω–∏–∫–æ–¥), –∫–æ–¥–∏—Ä–æ–≤–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –ø–æ–ª–µ–π –∑–∞–¥–∞–µ—Ç—Å—è
              CHARSET-–æ–º –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã –≤ —Ü–µ–ª–æ–º (–ª–∏–±–æ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—è –æ—Ç–¥–µ–ª—å–Ω–æ)
             üí† –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ "–¥–≤–∏–∂–∫–æ–≤" –≤ —Ä–∞–º–∫–∞—Ö MySQL (MyISAM, InnoDB, ...)
             –Ω–∞–ª–∏—á–∏–µ —É—Å–ª–æ–≤–∏–π IF EXISTS / IF NOT EXISTS –ø–æ–∑–≤–æ–ª—è—é—â–∏—Ö
             –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–æ–º–∞–Ω–¥—É —É—Å–ª–æ–≤–Ω–æ
            </pre>
            –†–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞–ø—Ä–æ—Å–∞:
            <?php
            $sql = <<<SQL
                CREATE TABLE IF NOT EXISTS  demo (
                    id      CHAR(36)   NOT NULL   PRIMARY KEY,
                    var_int INT,
                    val_str VARCHAR(128)
                ) Engine = InnoDB, DEFAULT CHARSET = utf8
            SQL;
            try {
                $connection->query( $sql ) ;
                echo "Table 'demo' OK" ;
            }
            catch( PDOException $ex ) {
                echo $ex->getMessage() ;
            }
            ?>
        </p>
        <p>
            DML - —è–∑—ã–∫ –º–∞–Ω–∏–ø—É–ª–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã–º–∏
            <?php
            // $x = random_int(1000, 10000) ; 
            // $s = bin2hex( random_bytes(8) ) ;
            // $sql = "INSERT INTO demo VALUES( UUID(), $x, '$s' ) " ;
            // try {
            //    $connection->query( $sql ) ;
            //    echo "INSERT OK" ;
            // }
            // catch( PDOException $ex ) {
            //    echo $ex->getMessage() ;
            // }
            ?>
        </p>
        <p>
            DML. SELECT<br/>
            <?php
            $sql = "SELECT * FROM `demo` " ; // –î–µ–ª–∞–µ–º –∑–∞–ø—Ä–æ—Å –Ω–∞ –≤—ã–±–æ—Ä–∫—É (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å WHERE `demo`.`var_int` % 2 = 0)
            // –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –∏–º–µ–Ω–∞ –≤—Å–µ—Ö —Å—Ç–æ–ª–±—Ü–æ–≤ —Ç–∞–±–ª–∏—Ü—ã
            $sql_columns = "SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME='demo'" ;
            try {
                $res_col = $connection->query( $sql_columns ) ;                       // –ü–æ–ª—É—á–∞–µ–º "—Ç–∞–±–ª–∏—Ü—É" —Ä–µ–∑-—Ç–æ–≤ (–∏–º–µ–Ω–∞ –≤—Å–µ—Ö —Å—Ç–æ–ª–±—Ü–æ–≤ —Ç–∞–±–ª–∏—Ü—ã)
                echo "<table class='demo' align=center border=1.5 cellspacing=0 cellpadding=0 >" ; // –†–∏—Å—É–µ–º —Ç–∞–±–ª–∏—Ü—É
                    echo "<caption><b>$sql</b></caption>"; 
                    echo "<tr class='demo-header'>" ;                                 // –®–∞–ø–∫–∞ —Ç–∞–±–ª–∏—Ü—ã
                        while( $col = $res_col->fetch( PDO::FETCH_NUM ) ) 
                            echo "<th>$col[3]</th>" ;                                 // $col[3] - –≤—ã–≤–æ–¥–∏–º –∏–º–µ–Ω–∞ –≤—Å–µ—Ö —Å—Ç–æ–ª–±—Ü–æ–≤ —Ç–∞–±–ª–∏—Ü—ã
                    echo "</tr>" ;
                    echo "<tr>" ;                                                     // –î–∞–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã
                        $res_col = $connection->query( $sql_columns ) ;               // –û–±–Ω–æ–≤–ª—è–µ–º $res_col
                        while( $col = $res_col->fetch( PDO::FETCH_NUM ) ) {           // –ü—Ä–æ—Ö–æ–¥–∏–º –ø–æ –≤—Å–µ–º —Å—Ç–æ–ª–±—Ü–∞–º —Ç–∞–±–ª–∏—Ü—ã
                            $res = $connection->query( $sql ) ;                       // ~table (—Ç–∞–±–ª–∏—Ü–∞ —Ä–µ–∑-—Ç–æ–≤)
                            echo "<td>" ;
                            while( $row = $res->fetch( PDO::FETCH_ASSOC ) )           // –°—Ç—Ä–æ–∫–∞ —Ç–∞–±–ª–∏—Ü—ã
                                echo "<div class='demo-data'>{$row[$col[3]]}</div>" ; // –ó–∞–ø–æ–ª–Ω—è–µ–º –∫–∞–∂–¥—ã–π —Å—Ç–æ–ª–±–µ—Ü —Ç–∞–±–ª–∏—Ü—ã –¥–∞–Ω–Ω—ã–º–∏
                            echo "</td>" ;
                        }
                    echo "</tr>" ;
                echo "</table>" ;
                // PDO::FETCH_ASSOC - —Ç–æ–ª—å–∫–æ –∏–º–µ–Ω–∞, 
                // PDO::FETCH_NUM - —Ç–æ–ª—å–∫–æ –∏–Ω–¥–µ–∫—Å—ã,
                // PDO::FETCH_BOTH - –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
            }
            catch( PDOException $ex ) {
                echo $ex->getMessage() ;
            }
            ?>
        </p>

    </main>
</div>
